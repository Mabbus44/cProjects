
const int cos64Data[181] = {10000,9998,9994,9986,9976,9962,9945,9925,9903,9877,
                            9848,9816,9781,9744,9703,9659,9613,9563,9511,9455,
                            9397,9336,9272,9205,9135,9063,8988,8910,8829,8746,
                            8660,8572,8480,8387,8290,8192,8090,7986,7880,7771,
                            7660,7547,7431,7314,7193,7071,6947,6820,6691,6561,
                            6428,6293,6157,6018,5878,5736,5592,5446,5299,5150,
                            5000,4848,4695,4540,4384,4226,4067,3907,3746,3584,
                            3420,3256,3090,2924,2756,2588,2419,2250,2079,1908,
                            1736,1564,1392,1219,1045,872,698,523,349,175,
                            0,-175,-349,-523,-698,-872,-1045,-1219,-1392,-1564,
                            -1736,-1908,-2079,-2250,-2419,-2588,-2756,-2924,-3090,-3256,
                            -3420,-3584,-3746,-3907,-4067,-4226,-4384,-4540,-4695,-4848,
                            -5000,-5150,-5299,-5446,-5592,-5736,-5878,-6018,-6157,-6293,
                            -6428,-6561,-6691,-6820,-6947,-7071,-7193,-7314,-7431,-7547,
                            -7660,-7771,-7880,-7986,-8090,-8192,-8290,-8387,-8480,-8572,
                            -8660,-8746,-8829,-8910,-8988,-9063,-9135,-9205,-9272,-9336,
                            -9397,-9455,-9511,-9563,-9613,-9659,-9703,-9744,-9781,-9816,
                            -9848,-9877,-9903,-9925,-9945,-9962,-9976,-9986,-9994,-9998,-10000};

const int aCos64Data[201] = {180000,171890,168522,165930,163740,161805,160052,158435,156926,155505,
                            154158,152873,151642,150459,149317,148212,147140,146099,145085,144096,
                            143130,142186,141261,140354,139464,138590,137731,136886,136054,135235,
                            134427,133630,132844,132067,131300,130542,129792,129050,128316,127590,
                            126870,126157,125451,124750,124056,123367,122684,122005,121332,120664,
                            120000,119341,118685,118034,117387,116744,116104,115468,114835,114205,
                            113578,112954,112334,111716,111100,110487,109877,109269,108663,108059,
                            107458,106858,106260,105664,105070,104478,103887,103297,102709,102122,
                            101537,100953,100370,99788,99207,98627,98048,97470,96892,96315,
                            95739,95164,94589,94014,93440,92866,92292,91719,91146,90573,
                            90000,89427,88854,88281,87708,87134,86560,85986,85411,84836,
                            84261,83685,83108,82530,81952,81373,80793,80212,79630,79047,
                            78463,77878,77291,76703,76113,75522,74930,74336,73740,73142,
                            72542,71941,71337,70731,70123,69513,68900,68284,67666,67046,
                            66422,65795,65165,64532,63896,63256,62613,61966,61315,60659,
                            60000,59336,58668,57995,57316,56633,55944,55250,54549,53843,
                            53130,52410,51684,50950,50208,49458,48700,47933,47156,46370,
                            45573,44765,43946,43114,42269,41410,40536,39646,38739,37814,
                            36870,35904,34915,33901,32860,31788,30683,29541,28358,27127,
                            25842,24495,23074,21565,19948,18195,16260,14070,11478,8110,0};

int cos64(int64_t rawAngle)
{
    while(rawAngle>=360000)
        rawAngle -= 360000;
    while(rawAngle<0)
        rawAngle += 360000;
    if(rawAngle>180000)
        rawAngle = 360000-rawAngle;
    int wholeAngle = rawAngle/1000;
    int decimals = rawAngle - wholeAngle*1000;
    int cosAngle = cos64Data[wholeAngle];
    if(decimals>0)
        cosAngle += (cos64Data[wholeAngle+1] - cos64Data[wholeAngle])*decimals/1000;
    return cosAngle;
}

int sin64(int64_t rawAngle)
{
    return cos64(90000-rawAngle);
}

int aCos64(int64_t cosAngle)
{
    while(cosAngle>10000)
        cosAngle = 10000;
    while(cosAngle<-10000)
        cosAngle = -10000;
    cosAngle += 10000;
    int wholeCosAngle = cosAngle/100;
    int decimals = cosAngle - wholeCosAngle*100;
    int angle = aCos64Data[wholeCosAngle];
    if(decimals>0)
        angle += (aCos64Data[wholeCosAngle+1] - aCos64Data[wholeCosAngle])*decimals/100;
    return angle;
}


AngularVector AngularVector::operator+(const AngularVector& other)
{
/*    AngularVector newVector;
    int omega = other.angle-this->angle;
    int cosOmega = cos64(omega);
    int cosAlpha;
    newVector.length = sqrt(this->length*this->length + other.length*other.length + 2*this->length*other.length*cosOmega/10000);
    cosAlpha = (this->length*10000 + cosOmega*other.length)/newVector.length;
    newVector.angle = aCos64(cosAlpha) + this->angle;
    return newVector;*/
